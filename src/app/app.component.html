<div class="container-fluid">
  <div class="row mb-2">
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <div class="container-fluid">
        <a class="navbar-brand title-font" routerLink="/">Greek Islands</a>
        <button class="navbar-toggler" (click)="isMenuCollapsed = !isMenuCollapsed" type="button" data-bs-toggle="collapse" data-bs-target="#navbarToggler" aria-controls="navbarToggler" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarToggler" [ngbCollapse]="!isMenuCollapsed">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0 justify-content-between col-12">
            <li class="nav-item">
            </li>
            <li class="search-bar-container">
              <input class="form-control search-bar" type="search" placeholder="Search Islands" aria-label="Search" [(ngModel)]="searchText" [inputFormatter]="formatter" [ngbTypeahead]="search" [resultTemplate]="searchTemplate" (selectItem)="islandSelected($event)">
            </li>
            <li class="nav-item auth">
              <ng-container *ngIf="!user; else logoutTemplate">
                <a class="nav-link cursor-pointer login-font" (click)="openLoginModal()" aria-current="page">Login</a>
              </ng-container>     
            </li>
          </ul>
        </div>
      </div>
    </nav>
  </div>
    <router-outlet></router-outlet>
</div>



<ng-template #searchTemplate let-r="result" let-t="term">
  <div>{{ r.title }}</div>
</ng-template>

<ng-template #logoutTemplate>
  <a class="nav-link cursor-pointer d-flex align-items-center gap-2 login-font" routerLinkActive="active" (click)="onLogout()">
    <span>Logout</span>
    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-box-arrow-right" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0z"/>
      <path fill-rule="evenodd" d="M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708z"/>
    </svg>
  </a>

  
</ng-template>
<app-toasts></app-toasts>
